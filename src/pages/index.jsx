import Head from "next/head";
import Styles from "@/styles/Home.module.css";
import Image from "next/image";
import LogoRomance from "@/svgs/logo.svg";

//!Etapas;
import YourName from "@/components/YourName";
import YourCpf from "@/components/YourCpf";
import YourWhatsApp from "@/components/YourWhatsApp";
import YourBirthday from "@/components/YourBirthday";
import YourEmail from "@/components/YourEmail";
import Warning from "@/components/Warning";

//!Hooks
import { useForm } from "@/hooks/useForm";



export default function Home() {

  const formComponents = [
    <YourName />,
    <YourCpf />,
    <YourWhatsApp />,
    <YourBirthday />,
    <YourEmail />,
    <Warning />
  ];//!Array dos components de etapas;

  const { changeStep, currentStep, currentComponent, isLastStep, isFirstStep } = useForm(formComponents); //Desestrutura o que estamos reecebendo do hook;

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </Head>
      <main>
        <div className={Styles.divMain}>
          <Image className={Styles.SvgRomance} src={LogoRomance} alt="Logo_Romance" />
          <div className={Styles.divColor}>
            <div className={Styles.divCircleL}></div>
            <div className={Styles.divCircleR}></div>
            {/* Mensagens */}
          </div>

          <div className={Styles.divBottom}>
            <div className={Styles.divFormMain}>
              <form onSubmit={(e) => changeStep(currentStep + 1, e)}>
                <div className={Styles.inputContainer}>{currentComponent}</div>
                {/* <div className={Styles.divArrow}>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    fill="currentColor"
                    viewBox="0 0 16 16"
                    color="#FFF"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1"
                    />
                  </svg>
                </div> */}
                <div className={Styles.actions}>
                  {!isFirstStep ? (<button type="button" onClick={() => changeStep(currentStep - 1)}>
                    <span>Voltar</span>
                  </button>) : (<></>)}
                  {!isLastStep ? (<button type="submit">
                    <span>Continuar</span>
                  </button>) : (<button type="button">
                    <span>Enviar</span>
                  </button>)}
                </div>
              </form>
            </div>
          </div>
          <div className={Styles.divProgres}>
            <div className={Styles.divProgresStars}></div>
          </div>
        </div>
      </main>
    </>
  );
}
